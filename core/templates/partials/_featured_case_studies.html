<section class="bg-gray-900 text-white py-24">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-start gap-4 mb-12">
            <h3 class="text-3xl font-medium">
                <span class="text-yellow-400">Featured</span> case studies
            </h3>
            <a href="https://obllcus.com/case-studies" class="text-white hover:text-yellow-400 transition-colors font-medium text-lg whitespace-nowrap pt-1">
                See more case studies &gt;
            </a>
        </div>

        <div class="relative">
            <div class="carousel-container overflow-hidden">
                <div class="carousel-track flex transition-transform duration-300 ease-in-out" id="caseStudyCarousel">
                    <!-- Case Study 1 -->
                    <div class="carousel-slide w-full flex-shrink-0">
                        <a href="https://obllcus.com/case-studies/medtech-supply-chain-optimization" target="_blank" rel="noopener noreferrer" class="block group">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:gap-24 md:gap-12 gap-8 items-center">
                                <div class="flex flex-col">
                                    <p class="font-bold text-yellow-400 text-sm tracking-wide">
                                        Supply chain
                                    </p>
                                    <h4 class="text-3xl md:text-4xl font-medium mt-2 leading-tight group-hover:underline">
                                        How Obllcus optimized a medtech supply chain to get products to patients faster
                                    </h4>
                                    <p class="text-gray-300 mt-4 text-lg">
                                        A supply chain transformation enabled more personalized care for over 78 million patients.
                                    </p>
                                </div>
                                <div class="rounded-lg overflow-hidden aspect-video">
                                    <img 
                                        src="https://www.ey.com/adobe/dynamicmedia/deliver/dm-aid--1f2975c8-a5d4-480e-ac63-f06984f399f3/ey-medics-and-patient-in-during-an-oncology-treatment-meta.jpg" 
                                        alt="Doctor talking to patient while assistant setting drop-bottle in office in clinic."
                                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                                    />
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Case Study 2 -->
                    <div class="carousel-slide w-full flex-shrink-0">
                        <a href="https://obllcus.com/case-studies/energy-business-standup" target="_blank" rel="noopener noreferrer" class="block group">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:gap-24 md:gap-12 gap-8 items-center">
                                <div class="flex flex-col">
                                    <p class="font-bold text-yellow-400 text-sm tracking-wide">
                                        M&A
                                    </p>
                                    <h4 class="text-3xl md:text-4xl font-medium mt-2 leading-tight group-hover:underline">
                                        Standing up a new energy business at speed after acquisition
                                    </h4>
                                    <p class="text-gray-300 mt-4 text-lg">
                                        A global conglomerate with newly acquired oil and gas assets leveraged an accelerated approach to set up a new business at speed.
                                    </p>
                                </div>
                                <div class="rounded-lg overflow-hidden aspect-video">
                                    <img 
                                        src="https://www.ey.com/adobe/dynamicmedia/deliver/dm-aid--efbae375-d4d2-4976-a403-505f00c8ce46/ey-group-of-managers-holding-meeting-at-the-office.jpg" 
                                        alt="Group Of Managers Holding Meeting At The Office"
                                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                                    />
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Case Study 3 -->
                    <div class="carousel-slide w-full flex-shrink-0">
                        <a href="https://obllcus.com/case-studies/global-manufacturer-digital-transformation" target="_blank" rel="noopener noreferrer" class="block group">
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:gap-24 md:gap-12 gap-8 items-center">
                                <div class="flex flex-col">
                                    <p class="font-bold text-yellow-400 text-sm tracking-wide">
                                        Transformation
                                    </p>
                                    <h4 class="text-3xl md:text-4xl font-medium mt-2 leading-tight group-hover:underline">
                                        How a global manufacturer unlocked value through digital transformation
                                    </h4>
                                    <p class="text-gray-300 mt-4 text-lg">
                                        Learn how our client overcame complex challenges to achieve digital transformation through strategic collaboration and client focus.
                                    </p>
                                </div>
                                <div class="rounded-lg overflow-hidden aspect-video">
                                    <img 
                                        src="https://www.ey.com/adobe/dynamicmedia/deliver/dm-aid--bda7cd26-c9fd-4b94-84ff-c462a52118d4/ey-employee-scanning-a-bar-code-on-a-tire-at-a-garage-shop.jpg" 
                                        alt="Latin American employee scanning a bar code on a tire at a garage shop using a cell phone"
                                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                                    />
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <button class="carousel-prev absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors" aria-label="Previous case study">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6">
                    <path d="m15 18-6-6 6-6"/>
                </svg>
            </button>
            <button class="carousel-next absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-colors" aria-label="Next case study">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6">
                    <path d="m9 18 6-6-6-6"/>
                </svg>
            </button>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const carousel = document.getElementById('caseStudyCarousel');
        const slides = document.querySelectorAll('.carousel-slide');
        const prevButton = document.querySelector('.carousel-prev');
        const nextButton = document.querySelector('.carousel-next');
        let currentSlide = 0;
        const totalSlides = slides.length;
        
        // Set initial position
        updateCarousel();
        
        // Previous button click handler
        prevButton.addEventListener('click', function() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateCarousel();
        });
        
        // Next button click handler
        nextButton.addEventListener('click', function() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        });
        
        // Update carousel position
        function updateCarousel() {
            const slideWidth = 100; // 100% of container width
            carousel.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
            
            // Update button states
            prevButton.disabled = currentSlide === 0;
            nextButton.disabled = currentSlide === totalSlides - 1;
        }
        
        // Touch support for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        
        carousel.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, false);
        
        carousel.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);
        
        function handleSwipe() {
            const swipeThreshold = 50; // Minimum swipe distance in pixels
            
            if (touchEndX < touchStartX - swipeThreshold) {
                // Swipe left - go to next slide
                currentSlide = Math.min(currentSlide + 1, totalSlides - 1);
                updateCarousel();
            } else if (touchEndX > touchStartX + swipeThreshold) {
                // Swipe right - go to previous slide
                currentSlide = Math.max(currentSlide - 1, 0);
                updateCarousel();
            }
        }
    });
</script>

<style>
    .carousel-container {
        width: 100%;
        overflow: hidden;
    }
    
    .carousel-track {
        display: flex;
        transition: transform 0.5s ease-in-out;
    }
    
    .carousel-slide {
        flex: 0 0 100%;
        padding: 0 1rem;
        box-sizing: border-box;
    }
    
    @media (max-width: 767px) {
        .carousel-slide {
            padding: 0 0.5rem;
        }
    }
    
    /* Hide scrollbar for Chrome, Safari and Opera */
    .carousel-container::-webkit-scrollbar {
        display: none;
    }
    
    /* Hide scrollbar for IE, Edge and Firefox */
    .carousel-container {
        -ms-overflow-style: none;  /* IE and Edge */
        scrollbar-width: none;  /* Firefox */
    }
</style>
